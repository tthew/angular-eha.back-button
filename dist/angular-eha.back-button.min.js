!function(){"use strict";var a=angular.module("eha.back-button.directive",[]).directive("ehaBackButton",["$window","$log","$injector",function(a,b,c){try{var d=c.get("$state");b.debug("Found $state")}catch(e){b.debug("No $state")}return{restrict:"E",templateUrl:"templates/back-button.directive.tpl.html",scope:{state:"@state",params:"@params"},link:function(c){c.back=function(){if(d&&c.state){var e=c.params?JSON.parse(c.params):{};for(var f in e)"object"==typeof e[f]&&(e[f]=JSON.stringify(e[f]));d.go(c.state,e)}else a.history?a.history.back(-1):b.error("No previous state found.")}}}}]);"undefined"!=typeof module&&module.exports&&(module.exports=a)}();